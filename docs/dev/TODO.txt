Also just notes

how to read this todo:
- feature not yet done
    - sub-feature (part of the parent feature)
+ completed feature (group of features is considered completed only when all sub-features are)
? not sure this feature is needed or important
- features are listed in order of importance, more or less

General reminder
- I have no idea what I'm doing, for the most part
- Code quality. Doesn't. Matter. At. All.
    - as long as it mostly works and doesn't crash the game for no reason
        - silent errors are better than panicking :)
- ALL WORLD (POSITIONAL) SOUNDS MUST BE PREFIXED with 250ms SILENCE !!!



Update 1
========

- (!!!) find what makes gameplay fun, what doesn't, and what makes it less fun
- (!!!) prioritize features and split this into several "updates"

- try new focus mode
- try new enemies
- other stuff

- gameplay
    + improve collision detection for player (use red2's controller)
    - fix issues with collision on corners (just wide rays won't help)

    - maybe some options for mid-combat healing (at least on lower difficulties)
    - use entry/exit elevator instead of spawning level (this fixes player getting stuck in spawned enemies)
        - some levels may have TWO elevators, for secret bosses and such
        - some levels might be bigger and have camera following the player
    - different difficulties (which to some extent alter game mechanics while keeping pace etc, except lowest ones maybe)

    - weapons
        - improve plasma
            - fix balls being self-destroyed on contact with small projectiles
            - maybe rework into something shotgun-like (faster AoE projectile with damage fall-off)

        + remove craft, it sucks and doesn't add anything
        - fix "crafted" weapons loot

        - add shield (sphere & magnet)
            - when equipped, appears in front of the player
            - absorbs projectiles
            - deflects rays (still gets damaged, but less)
            - sound
            - health is recharged
        
        - add repeller
            - pushes all projectiles away (and turns them into player's)
                - fix bonking, it should (slightly?) direct projectiles to cursor, probably (not sure if it should work for repeller!)
            - sound

        - tie weapon damage and enemy HP (so i.e. it would take exactly 3 powered railgun shots to defeat the boss)

        - rework railgun: instead of hitting wall bounce ray to the nearest enemy (in certain radius?)

    - enemies
        - make advanced turrets better
            - try timing shots so it's easy to dash through them
            - or just reduce pressure
                - try reducing damage to 0.5
                - try making it so only one projectile in "line" can harm player
                    (use same DamageEvent::source for all three projectiles; but it should differ between lines)
                    - or use ONE wide projectile with high HP
        
        - add mini-boss
            - bears shield
            - moves around, keeping distance to player
            - fires rockets (better than boss ones; though may be same ones)
            - fires ray
            - can be dismantled part-by-part
            - some parts can be picked up by the player and used as weapons

        - more types, including moving ones (based both on patterns and player position)
            (ADD NEW MECHANICS, NOT JUST MORE TURRETS!)

    - boss
        - better model (this is supposed to be cross between plane (VTOL?) and a small fortress)
        - movement & animations
        - alter behaviour
            - skip rockets if both towers are destroyed
            - "angry phase" for when laser is destroyed (constantly move it around and shoot rockets)
            - maybe third phase when all is destroyed (tries to ram player, damage is received by engines)

    - environmental hazards, including moving ones? would work nice with repeller
    - destructible walls (probably won't work with non-targeted fire, like rotating turrets)
    
    - levels (DEPENDS ON LEVEL EDITOR)
        - more
        - bosses
        - lore
        - ending

    - write documentation on mechanics

- audio
    - try oddio/bevy_oddio (it has built-in spatial)
    - ui_weapon_broken has invalid pitch
    - sounds probably used incorrectly in a lot of places

    + fix volume setting not working
    - add music (make it quieter in in-game menues, a-la Ultrakill)
    - layer-based dynamic music (not sure on criterias for layers)
    + menu music plays if using CLI 'play'

- re-implement tutorial without ANY hacks
    - use keybinds in tutorial text
- improve levels
    - add level editor
    - add level select & CLI args

- graphics
    - improve effects (higher fidelity, better visibility on some)
    - better models in general (use SVG?)
        - use vector for environment and 3D for creatures
    - rework HUD, add weapon icons
    - maybe add movement trail

+ fix god mode & add one-hit kill weapon
- maybe allow restarting the level with a single key press at any time
- focus mode: tween time scale and add slight camera zoom



Later updates
=============

- code improvements
    - reduce number of exclusive systems
    - fix system order (esp. delays!)
    - try to remove hacks
    - documentation
    - pre-load assets

- menu
    - fix keybinding (grep TODOs there)
    - test on gamepad, maybe it works (for the gameplay)
    - allow keyboard navigation in the menu
    - pause game if window loses focus (and un-pause on gaining it *only after pausing because of losing focus*)
    - add window icon
    - play sound when adjusting volume (when user stops moving slider, after delay)

- co-op, possibly even over network; would require adjusting difficulty

...
